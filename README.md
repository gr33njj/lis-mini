# –õ–ò–° –ú–î - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è 1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —Ü–µ–Ω—Ç—Ä–æ–º (–ü–µ—Ä–≤—ã–π–ë–∏—Ç).

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**–õ–ò–° –ú–î** ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å 1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —Ü–µ–Ω—Ç—Ä–æ–º –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –õ–ò–°. –°–∏—Å—Ç–µ–º–∞ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä—É—á–Ω–æ–π —Ç—Ä—É–¥, –∏—Å–∫–ª—é—á–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ PDF-—Ñ–∞–π–ª–æ–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ —Å NAS  
‚úÖ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ –Ω–æ–º–µ—Ä—É –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–∏–º—è —Ñ–∞–π–ª–∞)  
‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ 1–° —á–µ—Ä–µ–∑ HTTP API  
‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º –ø–æ e-mail  
‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenVPN —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç—å—é –æ—Ñ–∏—Å–∞  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤  
‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π  

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç
    ‚Üì HTTPS (lis.it-mydoc.ru)
–û–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (185.247.185.145)
    ‚Üì OpenVPN —Ç—É–Ω–Ω–µ–ª—å
–õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –æ—Ñ–∏—Å–∞ (192.168.100.0/24)
    ‚îú‚îÄ 1–° –°–µ—Ä–≤–µ—Ä (192.168.100.234)
    ‚îî‚îÄ NAS (192.168.100.177/laba)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å –Ω—É–ª—è

–°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É: **[docs/deployment-guide.md](docs/deployment-guide.md)**

### –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

#### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@185.247.185.145

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/lis-md

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
chmod +x setup-server.sh
./setup-server.sh
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenVPN

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenVPN –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
chmod +x setup-openvpn.sh
./setup-openvpn.sh

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é OpenVPN (—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
scp client.ovpn root@185.247.185.145:/etc/openvpn/client/client.conf

# –ó–∞–ø—É—Å—Ç–∏—Ç—å OpenVPN
systemctl enable openvpn-client@client
systemctl start openvpn-client@client

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ping 192.168.100.234  # 1–° —Å–µ—Ä–≤–µ—Ä
ping 192.168.100.177  # NAS
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: **[docs/openvpn-setup-guide.md](docs/openvpn-setup-guide.md)**

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è NAS

```bash
# –°–æ–∑–¥–∞—Ç—å credentials —Ñ–∞–π–ª
nano /etc/openvpn/nas-credentials
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```
username=your_nas_user
password=your_nas_password
```

```bash
# –ó–∞—â–∏—Ç–∏—Ç—å —Ñ–∞–π–ª
chmod 600 /etc/openvpn/nas-credentials

# –î–æ–±–∞–≤–∏—Ç—å –≤ /etc/fstab
echo "//192.168.100.177/laba /mnt/nas cifs credentials=/etc/openvpn/nas-credentials,vers=3.0,iocharset=utf8,file_mode=0777,dir_mode=0777,_netdev,x-systemd.after=openvpn-client@client.service 0 0" >> /etc/fstab

# –ü—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
mount -a

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ls -la /mnt/nas
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp env.template .env
nano .env
```

**–í–∞–∂–Ω–æ!** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
- `API_1C_URL` - URL API 1–° —Å–µ—Ä–≤–µ—Ä–∞
- `API_1C_TOKEN` - —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è API 1–°
- `SMTP_*` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ email —Å–µ—Ä–≤–µ—Ä–∞
- `SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: `openssl rand -hex 32`)
- `ADMIN_PASSWORD` - –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

#### 5. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
systemctl start lis-md

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status lis-md

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker compose logs -f app
```

#### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx
docker compose stop nginx

# –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
certbot certonly --standalone -d lis.it-mydoc.ru

# –ó–∞–ø—É—Å—Ç–∏—Ç—å nginx
docker compose start nginx
```

#### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
./check-system.sh
```

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã

#### üîç Watcher (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ NAS –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö PDF –ø–æ —Ö–µ—à—É (SHA256) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á —Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø—Ä–∏ —Å–±–æ–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–∑ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

#### üîó Integrator (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°)
- –ü–µ—Ä–µ–¥–∞—á–∞ PDF –≤ 1–° —á–µ—Ä–µ–∑ HTTPS API
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞
- –î–æ 3 –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
- SQLite –¥–ª—è –∞—É–¥–∏—Ç–∞ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞—Ä–∞–Ω—Ç–∏–Ω —Å –ª–æ–≥–æ–º –æ—à–∏–±–æ–∫

#### üìß Mailer (–û—Ç–ø—Ä–∞–≤–∫–∞ email)
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º –ø–∞—Ü–∏–µ–Ω—Ç–∞–º —á–µ—Ä–µ–∑ SMTP (TLS, –ø–æ—Ä—Ç 465/587)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —à–∞–±–ª–æ–Ω –ø–∏—Å—å–º–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ GUI
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö SMTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (Gmail, Yandex, –∏ –¥—Ä.)

#### üñ•Ô∏è Web GUI (–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: **https://lis.it-mydoc.ru**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: –õ–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å (bcrypt)
- –†–æ–ª–∏: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –æ–ø–µ—Ä–∞—Ç–æ—Ä
- –†–∞–∑–¥–µ–ª—ã:
  - **–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
  - **–û—á–µ—Ä–µ–¥—å** - –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - **–ê—Ä—Ö–∏–≤** - –∏—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  - **–ñ—É—Ä–Ω–∞–ª** - –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  - **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

#### üìä Audit (–ê—É–¥–∏—Ç)
- –ñ—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ø—ã—Ç–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Ñ–∞–π–ª–∞

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É (pending, processing, completed, failed)
- ‚úÖ –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä PDF —Ñ–∞–π–ª–æ–≤ inline –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏

**–î–æ—Å—Ç—É–ø:**
- **–ü—Ä–æ–¥–∞–∫—à–Ω**: https://lis.it-mydoc.ru
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://lis.it-mydoc.ru/docs
- **Health check**: https://lis.it-mydoc.ru/health

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/opt/lis-md/
‚îú‚îÄ‚îÄ app/                        # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ main.py                # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ watcher.py             # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ –Ω–∞ NAS
‚îÇ   ‚îú‚îÄ‚îÄ integrator.py          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°
‚îÇ   ‚îú‚îÄ‚îÄ mailer.py              # –û—Ç–ø—Ä–∞–≤–∫–∞ email
‚îÇ   ‚îú‚îÄ‚îÄ auth.py                # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è JWT
‚îÇ   ‚îú‚îÄ‚îÄ database.py            # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile             # Docker –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ templates/             # Jinja2 HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ       ‚îú‚îÄ‚îÄ base.html          # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
‚îÇ       ‚îú‚îÄ‚îÄ login.html         # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ index.html         # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ       ‚îî‚îÄ‚îÄ dashboard.html     # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ deployment-guide.md    # –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îÇ   ‚îú‚îÄ‚îÄ openvpn-setup-guide.md # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenVPN —Ç—É–Ω–Ω–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ 1c-integration.md      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–° (–∫–æ–¥ –¥–ª—è 1–°)
‚îú‚îÄ‚îÄ nginx/                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf             # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ conf.d/                # –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ lis-md.conf        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è lis.it-mydoc.ru
‚îú‚îÄ‚îÄ data/                       # –î–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ lis.db                 # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ setup-server.sh             # –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ setup-openvpn.sh            # –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OpenVPN
‚îú‚îÄ‚îÄ check-system.sh             # –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ backup.sh                   # –°–∫—Ä–∏–ø—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ env.template                # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- HTTPS —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ Let's Encrypt
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–æ–ª—è–º–∏ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä/–æ–ø–µ—Ä–∞—Ç–æ—Ä)
- JWT —Ç–æ–∫–µ–Ω—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö PDF —Ñ–∞–π–ª–æ–≤ –Ω–∞ NAS
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ 1–° —á–µ—Ä–µ–∑ HTTP API
- –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∞—Ä—Ö–∏–≤
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–µ—É–¥–∞—á–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–∞—Ä–∞–Ω—Ç–∏–Ω —Å –ª–æ–≥–∞–º–∏ –æ—à–∏–±–æ–∫
- –í–µ–¥–µ—Ç –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –∞—Ä—Ö–∏–≤—ã —Å—Ç–∞—Ä—à–µ –ø–µ—Ä–∏–æ–¥–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è (90 –¥–Ω–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Python 3.12 + FastAPI
- **Frontend**: Tailwind CSS + HTMX
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker + Docker Compose
- **–í–µ–±-—Å–µ—Ä–≤–µ—Ä**: Nginx —Å SSL
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è 1–°

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å HTTP-—Å–µ—Ä–≤–∏—Å –≤ 1–°:–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —Ü–µ–Ω—Ç—Ä–æ–º.

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –∫–æ–¥–æ–º:** [docs/1c-integration.md](docs/1c-integration.md)

### –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API

**Endpoint:** `/lab/attachResult`  
**–ú–µ—Ç–æ–¥:** `POST`  
**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** Bearer Token

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "orderNo": "123456",
  "fileName": "123456.pdf",
  "fileBase64": "JVBERi0xLjQK...",
  "sendEmail": true
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "docRef": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
  "email": "patient@example.com",
  "alreadyAttached": false
}
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. PDF —Ñ–∞–π–ª ‚Üí NAS (\\192.168.100.177\laba\123456.pdf)
2. Watcher –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª
3. Integrator –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ 1–° —á–µ—Ä–µ–∑ HTTP API
4. 1–° —Å–æ–∑–¥–∞—ë—Ç –¥–æ–∫—É–º–µ–Ω—Ç "–†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"
5. 1–° –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç PDF –∫ –¥–æ–∫—É–º–µ–Ω—Ç—É
6. 1–° –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email –ø–∞—Ü–∏–µ–Ω—Ç—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
7. –§–∞–π–ª –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ /mnt/nas/archive/YYYY-MM-DD/
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker compose logs -f app

# –õ–æ–≥–∏ nginx
docker compose logs -f nginx

# –õ–æ–≥–∏ OpenVPN
journalctl -u openvpn-client@client -f

# –õ–æ–≥–∏ systemd —Å–µ—Ä–≤–∏—Å–∞
journalctl -u lis-md -f
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–µ—Ä–µ–∑ API

```bash
# –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl -H "Authorization: Bearer YOUR_TOKEN" https://lis.it-mydoc.ru/api/stats

# –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π
curl -H "Authorization: Bearer YOUR_TOKEN" https://lis.it-mydoc.ru/api/records

# –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞
curl -H "Authorization: Bearer YOUR_TOKEN" https://lis.it-mydoc.ru/api/logs
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
/opt/lis-md/check-system.sh

# Health check endpoint
curl https://lis.it-mydoc.ru/health
```

## üîÑ –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —á–µ—Ä–µ–∑ cron:

```bash
# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
/opt/lis-md/backup.sh

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º setup-server.sh)
# –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00
0 3 * * * /opt/lis-md/backup.sh >> /var/log/lis-md-backup.log 2>&1
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
cd /opt/lis-md

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è git)
git pull

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down
docker compose build --no-cache
docker compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs -f
```

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∞—Ä—Ö–∏–≤–∞–º–∏ —Å–æ–≥–ª–∞—Å–Ω–æ `ARCHIVE_RETENTION_DAYS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 90 –¥–Ω–µ–π).

–†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:
```bash
# –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã —Å—Ç–∞—Ä—à–µ 90 –¥–Ω–µ–π –∏–∑ –∞—Ä—Ö–∏–≤–∞
find /mnt/nas/archive -type f -mtime +90 -delete

# –û—á–∏—Å—Ç–∏—Ç—å Docker –∫–µ—à
docker system prune -a
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: OpenVPN –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status openvpn-client@client

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
journalctl -u openvpn-client@client -n 50

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart openvpn-client@client
```

### –ü—Ä–æ–±–ª–µ–º–∞: NAS –Ω–µ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å credentials
cat /etc/openvpn/nas-credentials

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
umount /mnt/nas
mount -a

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
ping 192.168.100.177
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker compose logs app

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª
cat /opt/lis-md/.env

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down
docker compose build --no-cache
docker compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å 1–° —Å–µ—Ä–≤–µ—Ä–∞
ping 192.168.100.234

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
curl -X POST http://192.168.100.234/–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–ú–¶/hs/lab/attachResult \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{}'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
docker compose logs app | grep "1C\|1–°"
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é](docs/deployment-guide.md)** - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å –Ω—É–ª—è
- **[–ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenVPN](docs/openvpn-setup-guide.md)** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPN —Ç—É–Ω–Ω–µ–ª—è
- **[–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°](docs/1c-integration.md)** - –∫–æ–¥ HTTP-—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è 1–°

## üîë –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- Username: `admin` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`)
- Password: `changeme` (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `.env`)

**–í–ê–ñ–ù–û:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend:** Python 3.12 + FastAPI + Uvicorn
- **Frontend:** HTML + Tailwind CSS + HTMX
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite + SQLAlchemy (async)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker + Docker Compose
- **–í–µ–±-—Å–µ—Ä–≤–µ—Ä:** Nginx —Å SSL (Let's Encrypt)
- **VPN:** OpenVPN client
- **–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** CIFS/SMB
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞—É–¥–∏—Ç–∞

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤: ~30 —Å–µ–∫—É–Ω–¥ –æ—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–∞ NAS –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ 1–°
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 10,000 —Ñ–∞–π–ª–æ–≤ –≤ –¥–µ–Ω—å
- –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: ~1MB –Ω–∞ 1000 –∑–∞–ø–∏—Å–µ–π
- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É: –º–∏–Ω–∏–º—É–º 2 CPU cores, 4 GB RAM

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ SHA256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ö–∞—Ä–∞–Ω—Ç–∏–Ω –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- ‚úÖ RESTful API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ª—ë–≥–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](docs/)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `./check-system.sh`
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏: `docker compose logs -f app`
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–æ–µ –ü–û. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞ IT-MyDoc –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 2025
