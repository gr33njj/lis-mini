#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ GitHub
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./push-to-github.sh

set -e

echo "üöÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –õ–ò–° –ú–î –Ω–∞ GitHub..."
echo "================================="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ git —Å—Ç–∞—Ç—É—Å–∞
if ! git status > /dev/null 2>&1; then
    echo "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π"
    exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ remote origin
if ! git remote get-url origin > /dev/null 2>&1; then
    echo "‚ùå –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω remote origin"
    echo "–î–æ–±–∞–≤—å—Ç–µ: git remote add origin https://github.com/gr33njj/lis-mini.git"
    exit 1
fi

echo "üìã –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:"
git status --short

echo ""
echo "üîÑ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π..."
git add .

echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞..."
git commit -m "Update: –õ–ò–° –ú–î - –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ PDF —Ñ–∞–π–ª–æ–≤ —Å NAS
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å 1–° —á–µ—Ä–µ–∑ HTTP API
- –†–∞—Å—Å—ã–ª–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º –ø–æ email
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤"

echo "üåê –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub..."
git push -u origin main

echo ""
echo "‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub!"
echo "üîó –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/gr33njj/lis-mini"
echo ""
echo "üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:"
echo "1. –°–æ–∑–¥–∞–π—Ç–µ README.md –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏"
echo "2. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"
echo "3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
